# План
1. Ознакомиться с требованиями.
2. Создание репозитория для проекта.
3. Обновление файла .gitignore.
#### 4. Описание тестовых данных
- 4.1 Создать БД с таблицами: users, rolesResources, activity.
- 4.2 Описание пользователей

|id     | Логин       | Пароль  |           
|:-----:|:-----------:|:-------:|
|1      | vasya       | 123     |
|2      | admin       | admin   |
|3      | q           | ytrewq  |

- 4.3. Описать ресурсы
  
|id     | Ресурс |Роль   | id Пользователя |         
|:-----:|:------:|:-----:|:-----------:|
|1      | A      | READ  | 1           |
|2      | A.B.C  | WRITE | 1           |
|3      | A.B    |EXECUTE| 2           | 
|4      | B      |EXECUTE| 3           |  
|5      | A.B.C  |READ   | 2           |   
|6      | A.B    |WRITE  | 2           |
|7      | A      |READ   | 2           |
  

#### 5. Подготовка тестовых сценариев
- 5.1. Создать скрипт компиляции проекта - BUILD.sh.
- 5.2. Написать скрипт запуска приложения - RUN.sh.
- 5.3. Запись тестов в файл TEST.sh.

| Входные данные                                               | Ожидаемый результат |
| ------------------------------------------------------------ |  -----------------  |
|app.jar                                                       | 1; Вывод справки    |
|app.jar -h                                                    | 1; Вывод справки    |
|app.jar -login vasya -pass 123                                | 0                   |
|app.jar -pass 123 -login vasya                                | 0                   |
|app.jar -login !vasya! -pass 123                              | 2                   | 
|app.jar -login asd -pass dsa                                  | 3                   |
|app.jar -login admin -pass 123                                | 4                   |
|app.jar -login vasya -pass 123 -role READ -res A              | 0                   |
|app.jar -login vasya -pass 123 -role DELETE -res A            | 5                   |
|app.jar -login q -pass ytrewq -role EXECUTE -res A            | 6                   |
|app.jar -login admin -pass admin -role READ -res A.B          | 0                   |
|app.jar -login admin -pass admin -role WRITE -res A.B.C       | 0                   |
|app.jar -login vasya -pass 1234 -role DELETE -res A.B.C       | 4                   |
|app.jar -login vasya -pass 123 -role WRITE -res A.B           | 6                   |
|app.jar -login vasya -pass 123 -role READ -res A.B -ds 2020-10-1 -de 2020-10-2 -vol 10   | 0                   |
|app.jar -login vasya -pass 123 -role READ -res A.B -ds 2020.10.1 -de 2020.10.2 -vol 10   | 7                   |
|app.jar -login vasya -pass 123 -role READ -res A.B -ds 2020-10-1 -de 2020-10-60 -vol 10  | 7                   |
|app.jar -login vasya -pass 123 -role READ -res A.B -ds 2020-10-1 -de 2020-10-2  -vol hgh | 7                   |
|app.jar -login vasya -pass 123 -role WRITE -res A -ds 2020-03-12 -de 2020-03-13 -vol 10  | 6                   |

#### 6. Парсер командной строки
- 6.1. Создать enum класс ExitCodes.
- 6.2. Создать массив ROLES.
- 6.3. Написать функцию terminate(exitCode: Int, printHelpMessage: Boolean) для завершения приложения.

#### 7. Парсер командной строки
- 7.1. Создать класс HandlerCLI
- 7.2. Написать метод проверки на необходимость завершения приложения с выводом справки.
- 7.3. Написать метод проверки валидности переданных команд.
- 7.4. Написать метод run(args: Array<String>) для запуска парсера.

#### 8. Обертка для БД
- 8.1. Создать класс DatabaseWrapper.
- 8.2. Создать data классов-оберток для таблиц БД: User, RoleResource, Activity.
- 8.3. Написать метод получения строки пользователя по логину.
- 8.4. Написать метод проверки наличия доступа для пользователя (С разбором вложенности). 
- 8.5. Написать метод добвления активности в БД.

#### 9. Аутентификация
- 9.1. Написать метод для проверки необходимости аутентификации.
- 9.2. Написать метод для проверки валидности логина.
- 9.3. Написать метод для получения хэша переданного пароля.
- 9.4. Написать метод для проверки верности пароля.
- 9.5. Написать метод аутентификации.

#### 10. Авторизация
- 10.1. Написать метод для проверки необходимости авторизации.
- 10.2. Написать метод для проверки существования переданной роли.
- 10.3. Написать метод авторизации.

#### 11. Аккаунтинг
- 11.1. Написать метод для проверки необходимости аккаунтинга.
- 11.2. Написать метод для проверки валидности даты.
- 11.3. Написать метод для проверки валидности объема.
- 11.4. Написать метод аккаунтинга.
